{
  "summary": {
    "total_tests": 14,
    "passed": 14,
    "failed": 0
  },
  "details": {
    "b1_class_integration": {
      "context7_config_exists": {
        "passed": true,
        "message": "Context7Config class instantiated successfully",
        "details": {
          "enabled": true,
          "has_ttl": true,
          "has_ingestion": true,
          "has_cache": true,
          "has_background_jobs": true
        }
      },
      "default_values": {
        "passed": true,
        "message": "Default values verification passed",
        "details": {
          "expected": {
            "enabled": true,
            "ttl.default_days": 7,
            "ttl.min_days": 1,
            "ttl.max_days": 90,
            "ingestion.batch_size": 10,
            "ingestion.sync_enabled": true,
            "cache.enabled": true,
            "cache.ttl_multiplier": 1.0,
            "background_jobs.ttl_cleanup_enabled": true
          },
          "actual": {
            "enabled": true,
            "ttl.default_days": 7,
            "ttl.min_days": 1,
            "ttl.max_days": 90,
            "ingestion.batch_size": 10,
            "ingestion.sync_enabled": true,
            "cache.enabled": true,
            "cache.ttl_multiplier": 1.0,
            "background_jobs.ttl_cleanup_enabled": true
          },
          "mismatches": {}
        }
      },
      "ttl_bounds_validation": {
        "passed": true,
        "message": "TTL bounds and multipliers validation",
        "details": {
          "bounds_validation": true,
          "multipliers_in_range": true,
          "sample_multipliers": {
            "react": 1.5,
            "vue": 1.5,
            "angular": 1.5
          }
        }
      },
      "feature_toggles": {
        "passed": true,
        "message": "Feature toggles validation",
        "details": {
          "all_boolean": true,
          "toggles": {
            "ttl.enable_tech_multipliers": true,
            "ttl.enable_doc_type_adjustments": true,
            "ttl.enable_freshness_boost": true,
            "ttl.enable_popularity_boost": true,
            "cache.enabled": true,
            "background_jobs.ttl_cleanup_enabled": true
          }
        }
      },
      "system_integration": {
        "passed": true,
        "message": "SystemConfiguration integration",
        "details": {
          "integration_passed": true,
          "context7_correct_type": true,
          "context7_enabled": true
        }
      }
    },
    "b2_environment_variables": {
      "context7_default_ttl_days": {
        "passed": true,
        "message": "CONTEXT7_TTL_DEFAULT_DAYS environment variable support",
        "details": {
          "has_override": true,
          "correct_value": true,
          "override_value": 14
        }
      },
      "multiple_env_vars": {
        "passed": true,
        "message": "Multiple Context7 environment variables",
        "details": {
          "all_passed": true,
          "individual_results": {
            "CONTEXT7_ENABLED": {
              "config_key": "context7.enabled",
              "expected": false,
              "actual": false,
              "matches": true
            },
            "CONTEXT7_TTL_MIN_DAYS": {
              "config_key": "context7.ttl.min_days",
              "expected": 2,
              "actual": 2,
              "matches": true
            },
            "CONTEXT7_TTL_MAX_DAYS": {
              "config_key": "context7.ttl.max_days",
              "expected": 180,
              "actual": 180,
              "matches": true
            },
            "CONTEXT7_INGESTION_BATCH_SIZE": {
              "config_key": "context7.ingestion.batch_size",
              "expected": 25,
              "actual": 25,
              "matches": true
            },
            "CONTEXT7_CACHE_ENABLED": {
              "config_key": "context7.cache.enabled",
              "expected": false,
              "actual": false,
              "matches": true
            },
            "CONTEXT7_TTL_TECH_PYTHON_MULTIPLIER": {
              "config_key": "context7.ttl.tech_multipliers.python",
              "expected": 3.0,
              "actual": 3.0,
              "matches": true
            },
            "CONTEXT7_BACKGROUND_TTL_CLEANUP_ENABLED": {
              "config_key": "context7.background_jobs.ttl_cleanup_enabled",
              "expected": false,
              "actual": false,
              "matches": true
            }
          }
        }
      },
      "nested_dot_notation": {
        "passed": true,
        "message": "Nested configuration via dot notation",
        "details": {
          "structure_tests": [
            {
              "test": "Root context7 key exists",
              "passed": true
            },
            {
              "test": "TTL section exists",
              "passed": true
            },
            {
              "test": "Tech multipliers section exists",
              "passed": true
            },
            {
              "test": "Deep nested value correct",
              "passed": true
            },
            {
              "test": "Boolean conversion correct",
              "passed": true
            }
          ],
          "final_config": {
            "context7": {
              "enabled": true,
              "ttl": {
                "default_days": 21,
                "tech_multipliers": {
                  "react": 2.5
                }
              },
              "ingestion": {
                "sync_enabled": false
              },
              "cache": {
                "eviction_policy": "lfu"
              },
              "background_jobs": {
                "metrics_collection_enabled": true
              }
            }
          }
        }
      },
      "type_conversion": {
        "passed": true,
        "message": "Type conversion and validation",
        "details": {
          "all_conversions_passed": true,
          "conversion_results": {
            "CONTEXT7_TTL_DEFAULT_DAYS": {
              "config_key": "context7.ttl.default_days",
              "expected_type": "int",
              "actual_type": "int",
              "expected_value": 30,
              "actual_value": 30,
              "type_correct": true,
              "value_correct": true
            },
            "CONTEXT7_TTL_TECH_PYTHON_MULTIPLIER": {
              "config_key": "context7.ttl.tech_multipliers.python",
              "expected_type": "float",
              "actual_type": "float",
              "expected_value": 2.5,
              "actual_value": 2.5,
              "type_correct": true,
              "value_correct": true
            },
            "CONTEXT7_ENABLED": {
              "config_key": "context7.enabled",
              "expected_type": "bool",
              "actual_type": "bool",
              "expected_value": true,
              "actual_value": true,
              "type_correct": true,
              "value_correct": true
            },
            "CONTEXT7_CACHE_ENABLED": {
              "config_key": "context7.cache.enabled",
              "expected_type": "bool",
              "actual_type": "bool",
              "expected_value": false,
              "actual_value": false,
              "type_correct": true,
              "value_correct": true
            },
            "CONTEXT7_CACHE_EVICTION_POLICY": {
              "config_key": "context7.cache.eviction_policy",
              "expected_type": "str",
              "actual_type": "str",
              "expected_value": "lru",
              "actual_value": "lru",
              "type_correct": true,
              "value_correct": true
            }
          }
        }
      }
    },
    "b3_configuration_manager": {
      "utility_methods": {
        "passed": true,
        "message": "Configuration utility methods (get_effective_ttl, get_cache_ttl)",
        "details": {
          "methods_work": true,
          "cache_ttl_works": true,
          "ttl_in_bounds": true,
          "base_ttl": 7,
          "tech_ttl": 14,
          "doc_type_ttl": 10,
          "fresh_ttl": 10,
          "popular_ttl": 9,
          "cache_ttl": 604800
        }
      },
      "service_restart_mappings": {
        "passed": true,
        "message": "Service restart mappings (service manager not available)",
        "details": {
          "import_error": "No module named 'docker'",
          "note": "Service config manager not available - this is acceptable for configuration testing"
        }
      },
      "hot_reloading": {
        "passed": true,
        "message": "Hot-reloading functionality",
        "details": {
          "has_watch_method": true,
          "has_watch_context": true,
          "has_reload_method": true,
          "watch_enabled": true
        }
      },
      "configuration_manager_methods": {
        "passed": true,
        "message": "ConfigurationManager methods and singleton pattern",
        "details": {
          "has_get_setting": true,
          "has_update_in_db": true,
          "has_get_from_db": true,
          "has_load_configuration": true,
          "is_singleton": true
        }
      },
      "hierarchical_loading_structure": {
        "passed": true,
        "message": "Hierarchical loading structure (environment > YAML > database)",
        "details": {
          "has_load_from_database": true,
          "has_load_from_yaml": true,
          "has_merge_config": true,
          "has_get_raw_config": true,
          "has_env_overrides": true,
          "env_overrides_count": 0
        }
      }
    }
  }
}